<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>About</title>
<link rel="stylesheet" href="/assets/css/style.css">
<link rel="preload" as="image" href="/assets/img/PA-Eng-Cert-1.jpg"> 
<link rel="preload" as="image" href="/assets/img/PA-Eng-Cert-2.jpg">
<link rel="preload" as="image" href="/assets/img/PA-Eng-Cert-3.jpg">
</head>
<body>
<div class="layout">

<aside class="sidebar">
<div class="profile">
<img src="/assets/img/avatar.jpg" class="avatar">
<h2>Phan Anh</h2>
<p class="role">Research Student</p>
</div>

<div id="menu"></div>

</aside>

<main class="main">
<div style="padding:80px; max-width:900px;">
  
<h1>About my English class</h1>
<p style="margin-top:20px; line-height:1.8;">

Mình đã bắt đầu dạy tiếng Anh đến nay được 3 năm rồi. Mình chuyên về dạy cho người mới bắt đầu và luyện thi TOEIC.

</p>
  
<h2>Chứng chỉ của mình:</h2>
<p style="margin-top:20px; line-height:1.8;">

Mình có IELTS 7.5, TOEIC 990 và 980
  <h3>Ảnh chụp chứng chỉ của mình:</h3>

      <div class="img-grid" data-gallery="PA-cert">
        <img src="/assets/img/PA-Eng-Cert-1.jpg" onclick="openGallery('PA-cert',0)">
        <img src="/assets/img/PA-Eng-Cert-2.jpg" onclick="openGallery('PA-cert',1)">
        <img src="/assets/img/PA-Eng-Cert-3.jpg" onclick="openGallery('PA-cert',2)">
      </div>

<!-- Modal Portfolio Gallery -->
<div id="imgModal" class="modal">
  <div class="modal-overlay" onclick="closeModal()"></div>

  <div class="modal-ui">
    <span class="close" onclick="closeModal()">&times;</span>

    <span class="nav prev" onclick="prevImg()">&#10094;</span>

    <div class="modal-box">
      <img class="modal-content" id="modalImg">
      <div class="modal-caption" id="modalCaption"></div>
      <div class="modal-counter" id="modalCounter"></div>
    </div>

    <span class="nav next" onclick="nextImg()">&#10095;</span>
  </div>
</div>



  
</p>

<h2>Một số ảnh chứng chỉ của học sinh của mình đi thi về</h2>
<p style="margin-top:20px; line-height:1.8;">

Học sinh BH, Học sinh LHA

</p>

</div>
</main>

</div>

<script>
fetch("/assets/components/menu.html")
  .then(res => res.text())
  .then(data => {
    document.getElementById("menu").innerHTML = data;
  });
</script>  

<script>
const galleries = {
  "PA-cert": [
    {
      src: "/assets/img/PA-Eng-Cert-1.jpg",
      caption: "IELTS Academic 7.5"
    },
    {
      src: "/assets/img/PA-Eng-Cert-2.jpg",
      caption: "TOEIC 990 – Listening & Reading"
    },
    {
      src: "/assets/img/PA-Eng-Cert-3.jpg",
      caption: "TOEIC 980 – Listening & Reading"
    }
  ]
};

let currentGallery = "";
let currentIndex = 0;

/* Preload images */
function preloadGallery(name){
  galleries[name].forEach(img=>{
    const i = new Image();
    i.src = img.src;
  });
}

function openGallery(galleryName, index){
  currentGallery = galleryName;
  currentIndex = index;

  const modal = document.getElementById("imgModal");
  const modalImg = document.getElementById("modalImg");
  const caption = document.getElementById("modalCaption");
  const counter = document.getElementById("modalCounter");

  modal.style.display = "block";
  modalImg.src = galleries[currentGallery][currentIndex].src;
  caption.innerText = galleries[currentGallery][currentIndex].caption;
  counter.innerText = `${currentIndex+1} / ${galleries[currentGallery].length}`;

  preloadGallery(galleryName);
}

function closeModal(){
  document.getElementById("imgModal").style.display = "none";
}

function nextImg(){
  const imgs = galleries[currentGallery];
  currentIndex = (currentIndex + 1) % imgs.length;
  updateModal();
}

function prevImg(){
  const imgs = galleries[currentGallery];
  currentIndex = (currentIndex - 1 + imgs.length) % imgs.length;
  updateModal();
}

function updateModal(){
  const modalImg = document.getElementById("modalImg");
  const caption = document.getElementById("modalCaption");
  const counter = document.getElementById("modalCounter");

  modalImg.src = galleries[currentGallery][currentIndex].src;
  caption.innerText = galleries[currentGallery][currentIndex].caption;
  counter.innerText = `${currentIndex+1} / ${galleries[currentGallery].length}`;
}

/* Keyboard control */
document.addEventListener("keydown", function(e){
  const modal = document.getElementById("imgModal");
  if(modal.style.display === "block"){
    if(e.key === "Escape") closeModal();
    if(e.key === "ArrowRight") nextImg();
    if(e.key === "ArrowLeft") prevImg();
  }
});
</script>
</body>
</html>
